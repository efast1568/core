(()=>{"use strict";function e(e){return e.replace(/(?:[_-])([a-z0-9])/g,((e,t)=>t.toUpperCase()))}function t(t){return e(t.replace(/--/g,"-").replace(/__/g,"_"))}function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){return e.replace(/([A-Z])/g,((e,t)=>`-${t.toLowerCase()}`))}function r(e){return null!=e}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){const n=c(e);return Array.from(n.reduce(((e,n)=>(function(e,t){const n=e[t];return Array.isArray(n)?n:[]}(n,t).forEach((t=>e.add(t))),e)),new Set))}function s(e,t){return c(e).reduce(((e,n)=>(e.push(...function(e,t){const n=e[t];return n?Object.keys(n).map((e=>[e,n[e]])):[]}(n,t)),e)),[])}function c(e){const t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}"function"==typeof Object.getOwnPropertySymbols||Object.getOwnPropertyNames,(()=>{function e(e){function t(){return Reflect.construct(e,arguments,new.target)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}try{return function(){const t=e((function(){this.a.call(this)}));t.prototype.a=function(){},new t}(),e}catch(e){return e=>class extends e{}}})();Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},l("abcdefghijklmnopqrstuvwxyz".split("").map((e=>[e,e])))),l("0123456789".split("").map((e=>[e,e]))));function l(e){return e.reduce(((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n})),{})}function u(e,t,n){return e.application.getControllerForElementAndIdentifier(t,n)}function d(e,t,n){let o=u(e,t,n);return o||(e.application.router.proposeToConnectScopeForElementAndIdentifier(t,n),o=u(e,t,n),o||void 0)}function f([t,n],a){return function(t){const{token:n,typeDefinition:a}=t,s=`${o(n)}-value`,c=function(e){const{controller:t,token:n,typeDefinition:o}=e,i={controller:t,token:n,typeObject:o},a=function(e){const{controller:t,token:n,typeObject:o}=e,i=r(o.type),a=r(o.default),s=i&&a,c=i&&!a,l=!i&&a,u=p(o.type),d=h(e.typeObject.default);if(c)return u;if(l)return d;if(u!==d){throw new Error(`The specified default value for the Stimulus Value "${t?`${t}.${n}`:n}" must match the defined type "${u}". The provided default value of "${o.default}" is of type "${d}".`)}if(s)return u}(i),s=h(o),c=p(o),l=a||s||c;if(l)return l;const u=t?`${t}.${o}`:n;throw new Error(`Unknown value type "${u}" for "${n}" value`)}(t);return{type:c,key:s,name:e(s),get defaultValue(){return function(e){const t=p(e);if(t)return m[t];const n=i(e,"default"),o=i(e,"type"),r=e;if(n)return r.default;if(o){const{type:e}=r,t=p(e);if(t)return m[t]}return e}(a)},get hasCustomDefaultValue(){return void 0!==h(a)},reader:g[c],writer:b[c]||b.default}}({controller:a,token:t,typeDefinition:n})}function p(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function h(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(e)?"array":"[object Object]"===Object.prototype.toString.call(e)?"object":void 0}const m={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},g={array(e){const t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${e}" of type "${h(t)}"`);return t},boolean:e=>!("0"==e||"false"==String(e).toLowerCase()),number:e=>Number(e.replace(/_/g,"")),object(e){const t=JSON.parse(e);if(null===t||"object"!=typeof t||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${e}" of type "${h(t)}"`);return t},string:e=>e},b={default:function(e){return`${e}`},array:y,object:y};function y(e){return JSON.stringify(e)}class w{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:o=this.identifier,bubbles:r=!0,cancelable:i=!0}={}){const a=new CustomEvent(o?`${o}:${e}`:e,{detail:n,bubbles:r,cancelable:i});return t.dispatchEvent(a),a}}function v(e){if("string"!=typeof e||!e)throw new Error("expected a non-empty string, got: "+e)}function j(e){if("number"!=typeof e)throw new Error("expected a number, got: "+e)}w.blessings=[function(e){return a(e,"classes").reduce(((e,t)=>{return Object.assign(e,{[`${o=t}Class`]:{get(){const{classes:e}=this;if(e.has(o))return e.get(o);{const t=e.getAttributeName(o);throw new Error(`Missing attribute "${t}"`)}}},[`${o}Classes`]:{get(){return this.classes.getAll(o)}},[`has${n(o)}Class`]:{get(){return this.classes.has(o)}}});var o}),{})},function(e){return a(e,"targets").reduce(((e,t)=>{return Object.assign(e,{[`${o=t}Target`]:{get(){const e=this.targets.find(o);if(e)return e;throw new Error(`Missing target element "${o}" for "${this.identifier}" controller`)}},[`${o}Targets`]:{get(){return this.targets.findAll(o)}},[`has${n(o)}Target`]:{get(){return this.targets.has(o)}}});var o}),{})},function(e){const t=s(e,"values"),o={valueDescriptorMap:{get(){return t.reduce(((e,t)=>{const n=f(t,this.identifier),o=this.data.getAttributeNameForKey(n.key);return Object.assign(e,{[o]:n})}),{})}}};return t.reduce(((e,t)=>Object.assign(e,function(e,t){const o=f(e,t),{key:r,name:i,reader:a,writer:s}=o;return{[i]:{get(){const e=this.data.get(r);return null!==e?a(e):o.defaultValue},set(e){void 0===e?this.data.delete(r):this.data.set(r,s(e))}},[`has${n(i)}`]:{get(){return this.data.has(r)||o.hasCustomDefaultValue}}}}(t))),o)},function(e){return a(e,"outlets").reduce(((e,o)=>Object.assign(e,function(e){const o=t(e);return{[`${o}Outlet`]:{get(){const t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t){const n=d(this,t,e);if(n)return n;throw new Error(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${o}Outlets`]:{get(){const t=this.outlets.findAll(e);return t.length>0?t.map((t=>{const n=d(this,t,e);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`,t)})).filter((e=>e)):[]}},[`${o}OutletElement`]:{get(){const t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t)return t;throw new Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${o}OutletElements`]:{get(){return this.outlets.findAll(e)}},[`has${n(o)}Outlet`]:{get(){return this.outlets.has(e)}}}}(o))),{})}],w.targets=[],w.outlets=[],w.values={};const k=1,$=1,_="emoji",E="keyvalue",x="favorites",S="tokens",O="tokens",C="unicode",T="count",z="group",A="order",L="group-order",P="eTag",D="url",B="skinTone",R="readonly",N="readwrite",M="skinUnicodes",U="skinUnicodes";function F(e){return function(e,t){const n=new Set,o=[];for(const r of e){const e=t(r);n.has(e)||(n.add(e),o.push(r))}return o}(e,(e=>e.unicode))}const I={},V={},q={};function X(e,t,n){n.onerror=()=>t(n.error),n.onblocked=()=>t(new Error("IDB blocked")),n.onsuccess=()=>e(n.result)}async function H(e){const t=await new Promise(((t,n)=>{const o=indexedDB.open(e,k);I[e]=o,o.onupgradeneeded=e=>{e.oldVersion<$&&function(e){function t(t,n,o){const r=n?e.createObjectStore(t,{keyPath:n}):e.createObjectStore(t);if(o)for(const[e,[t,n]]of Object.entries(o))r.createIndex(e,t,{multiEntry:n});return r}t(E),t(_,C,{[O]:[S,!0],[L]:[[z,A]],[M]:[U,!0]}),t(x,void 0,{[T]:[""]})}(o.result)},X(t,n,o)}));return t.onclose=()=>J(e),t}function K(e,t,n,o){return new Promise(((r,i)=>{const a=e.transaction(t,n,{durability:"relaxed"}),s="string"==typeof t?a.objectStore(t):t.map((e=>a.objectStore(e)));let c;o(s,a,(e=>{c=e})),a.oncomplete=()=>r(c),a.onerror=()=>i(a.error)}))}function J(e){const t=I[e],n=t&&t.result;if(n){n.close();const t=q[e];if(t)for(const e of t)e()}delete I[e],delete V[e],delete q[e]}const W=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function Y(e){return e.split(/[\s_]+/).map((e=>!e.match(/\w/)||W.has(e)?e.toLowerCase():e.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase())).filter(Boolean)}const G=2;function Q(e){return e.filter(Boolean).map((e=>e.toLowerCase())).filter((e=>e.length>=G))}function Z(e,t,n,o){e[t](n).onsuccess=e=>o&&o(e.target.result)}function ee(e,t,n){Z(e,"get",t,n)}function te(e,t,n){Z(e,"getAll",t,n)}function ne(e){e.commit&&e.commit()}function oe(e,t){const n=function(e,t){let n=e[0];for(let o=1;o<e.length;o++){const r=e[o];t(n)>t(r)&&(n=r)}return n}(e,(e=>e.length)),o=[];for(const r of n)e.some((e=>-1===e.findIndex((e=>t(e)===t(r)))))||o.push(r);return o}async function re(e,t,n,o){try{const r=function(e){return e.map((({annotation:e,emoticon:t,group:n,order:o,shortcodes:r,skins:i,tags:a,emoji:s,version:c})=>{const l=[...new Set(Q([...(r||[]).map(Y).flat(),...a.map(Y).flat(),...Y(e),t]))].sort(),u={annotation:e,group:n,order:o,tags:a,tokens:l,unicode:s,version:c};if(t&&(u.emoticon=t),r&&(u.shortcodes=r),i){u.skinTones=[],u.skinUnicodes=[],u.skinVersions=[];for(const{tone:e,emoji:t,version:n}of i)u.skinTones.push(e),u.skinUnicodes.push(t),u.skinVersions.push(n)}return u}))}(t);await K(e,[_,E],N,(([e,t],i)=>{let a,s,c=0;function l(){2==++c&&function(){if(a===o&&s===n)return;e.clear();for(const t of r)e.put(t);t.put(o,P),t.put(n,D),ne(i)}()}ee(t,P,(e=>{a=e,l()})),ee(t,D,(e=>{s=e,l()}))}))}finally{}}async function ie(e,t){const n=Q(Y(t));return n.length?K(e,_,R,((e,t,o)=>{const r=[],i=()=>{const e=oe(r,(e=>e.unicode));o(e.sort(((e,t)=>e.order<t.order?-1:1)))};for(let t=0;t<n.length;t++){const o=n[t],a=t===n.length-1?IDBKeyRange.bound(o,o+"￿",!1,!0):IDBKeyRange.only(o);te(e.index(O),a,(e=>{r.push(e),r.length===n.length&&i()}))}})):[]}async function ae(e,t){const n=await ie(e,t);if(!n.length){const n=e=>(e.shortcodes||[]).includes(t.toLowerCase());return await async function(e,t){return K(e,_,R,((e,n,o)=>{let r;const i=()=>{e.getAll(r&&IDBKeyRange.lowerBound(r,!0),50).onsuccess=e=>{const n=e.target.result;for(const e of n)if(r=e.unicode,t(e))return o(e);if(n.length<50)return o();i()}};i()}))}(e,n)||null}return n.filter((e=>{const n=(e.shortcodes||[]).map((e=>e.toLowerCase()));return n.includes(t.toLowerCase())}))[0]||null}function se(e,t,n){return K(e,t,R,((e,t,o)=>ee(e,n,o)))}const ce="";const le=["name","url"];function ue(e){!function(e){const t=e&&Array.isArray(e),n=t&&e.length&&(!e[0]||le.some((t=>!(t in e[0]))));if(!t||n)throw new Error("Custom emojis are in the wrong format")}(e);const t=(e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1,n=e.sort(t),o=function(e,t){const n=new Map;for(const o of e){const e=t(o);for(const t of e){let e=n;for(let n=0;n<t.length;n++){const o=t.charAt(n);let r=e.get(o);r||(r=new Map,e.set(o,r)),e=r}let r=e.get(ce);r||(r=[],e.set(ce,r)),r.push(o)}}return(e,t)=>{let o=n;for(let t=0;t<e.length;t++){const n=e.charAt(t),r=o.get(n);if(!r)return[];o=r}if(t)return o.get(ce)||[];const r=[],i=[o];for(;i.length;){const e=[...i.shift().entries()].sort(((e,t)=>e[0]<t[0]?-1:1));for(const[t,n]of e)t===ce?r.push(...n):i.push(n)}return r}}(e,(e=>[...new Set((e.shortcodes||[]).map((e=>Y(e))).flat())])),r=e=>o(e,!0),i=e=>o(e,!1),a=new Map,s=new Map;for(const t of e){s.set(t.name.toLowerCase(),t);for(const e of t.shortcodes||[])a.set(e.toLowerCase(),t)}return{all:n,search:e=>{const n=Y(e);return oe(n.map(((e,t)=>(t<n.length-1?r:i)(e))),(e=>e.name)).sort(t)},byShortcode:e=>a.get(e.toLowerCase()),byName:e=>s.get(e.toLowerCase())}}const de="undefined"!=typeof wrappedJSObject;function fe(e){if(!e)return e;if(de&&(e=structuredClone(e)),delete e.tokens,e.skinTones){const t=e.skinTones.length;e.skins=Array(t);for(let n=0;n<t;n++)e.skins[n]={tone:e.skinTones[n],unicode:e.skinUnicodes[n],version:e.skinVersions[n]};delete e.skinTones,delete e.skinUnicodes,delete e.skinVersions}return e}function pe(e){e||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const he=["annotation","emoji","group","order","tags","version"];function me(e,t){if(2!==Math.floor(e.status/100))throw new Error("Failed to fetch: "+t+":  "+e.status)}async function ge(e){const t=await fetch(e);me(t,e);const n=t.headers.get("etag");pe(n);const o=await t.json();return function(e){if(!e||!Array.isArray(e)||!e[0]||"object"!=typeof e[0]||he.some((t=>!(t in e[0]))))throw new Error("Emoji data is in the wrong format")}(o),[n,o]}async function be(e){const t=function(e){for(var t=e.length,n=new ArrayBuffer(t),o=new Uint8Array(n),r=-1;++r<t;)o[r]=e.charCodeAt(r);return n}(JSON.stringify(e)),n=function(e){for(var t="",n=new Uint8Array(e),o=n.byteLength,r=-1;++r<o;)t+=String.fromCharCode(n[r]);return t}(await crypto.subtle.digest("SHA-1",t));return btoa(n)}async function ye(e,t){let n,o=await async function(e){const t=await fetch(e,{method:"HEAD"});me(t,e);const n=t.headers.get("etag");return pe(n),n}(t);if(!o){const e=await ge(t);o=e[0],n=e[1],o||(o=await be(n))}if(await async function(e,t,n){const[o,r]=await Promise.all([P,D].map((t=>se(e,E,t))));return o===n&&r===t}(e,t,o));else{if(!n){n=(await ge(t))[1]}await re(e,n,t,o)}}class we{constructor({dataSource:e="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",locale:t="en",customEmoji:n=[]}={}){this.dataSource=e,this.locale=t,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=ue(n),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const e=this._db=await(t=this._dbName,V[t]||(V[t]=H(t)),V[t]);var t;!function(e,t){let n=q[e];n||(n=q[e]=[]),n.push(t)}(this._dbName,this._clear);const n=this.dataSource,o=await async function(e){return!await se(e,E,D)}(e);o?await async function(e,t){let[n,o]=await ge(t);n||(n=await be(o)),await re(e,o,t,n)}(e,n):this._lazyUpdate=ye(e,n)}async ready(){const e=async()=>(this._ready||(this._ready=this._init()),this._ready);await e(),this._db||await e()}async getEmojiByGroup(e){return j(e),await this.ready(),F(await async function(e,t){return K(e,_,R,((e,n,o)=>{const r=IDBKeyRange.bound([t,0],[t+1,0],!1,!0);te(e.index(L),r,o)}))}(this._db,e)).map(fe)}async getEmojiBySearchQuery(e){v(e),await this.ready();return[...this._custom.search(e),...F(await ie(this._db,e)).map(fe)]}async getEmojiByShortcode(e){v(e),await this.ready();const t=this._custom.byShortcode(e);return t||fe(await ae(this._db,e))}async getEmojiByUnicodeOrName(e){v(e),await this.ready();const t=this._custom.byName(e);return t||fe(await async function(e,t){return K(e,_,R,((e,n,o)=>ee(e,t,(n=>{if(n)return o(n);ee(e.index(M),t,(e=>o(e||null)))}))))}(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await se(this._db,E,B)||0}async setPreferredSkinTone(e){return j(e),await this.ready(),t=this._db,n=B,o=e,K(t,E,N,((e,t)=>{e.put(o,n),ne(t)}));var t,n,o}async incrementFavoriteEmojiCount(e){return v(e),await this.ready(),t=this._db,n=e,K(t,x,N,((e,t)=>ee(e,n,(o=>{e.put((o||0)+1,n),ne(t)}))));var t,n}async getTopFavoriteEmoji(e){return j(e),await this.ready(),(await function(e,t,n){return 0===n?[]:K(e,[x,_],R,(([e,o],r,i)=>{const a=[];e.index(T).openCursor(void 0,"prev").onsuccess=e=>{const r=e.target.result;if(!r)return i(a);function s(e){if(a.push(e),a.length===n)return i(a);r.continue()}const c=r.primaryKey,l=t.byName(c);if(l)return s(l);ee(o,c,(e=>{if(e)return s(e);r.continue()}))}}))}(this._db,this._custom,e)).map(fe)}set customEmoji(e){this._custom=ue(e)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch(e){}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await J(this._dbName)}async delete(){var e;await this._shutdown(),await(e=this._dbName,new Promise(((t,n)=>{J(e),X(t,n,indexedDB.deleteDatabase(e))})))}}function ve(){}function je(e){return e()}function ke(){return Object.create(null)}function $e(e){e.forEach(je)}function _e(e){return"function"==typeof e}function Ee(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let xe;function Se(e,t){return xe||(xe=document.createElement("a")),xe.href=t,e===xe.href}const Oe="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Ce(e,t){e.appendChild(t)}function Te(e,t,n){e.insertBefore(t,n||null)}function ze(e){e.parentNode&&e.parentNode.removeChild(e)}function Ae(e){return document.createElement(e)}function Le(e){return document.createTextNode(e)}function Pe(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function De(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Be(e,t){t=""+t,e.data!==t&&(e.data=t)}function Re(e,t){e.value=null==t?"":t}function Ne(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}let Me;function Ue(e){Me=e}function Fe(e){(function(){if(!Me)throw new Error("Function called outside component initialization");return Me})().$$.on_mount.push(e)}const Ie=[],Ve=[];let qe=[];const Xe=[],He=Promise.resolve();let Ke=!1;function Je(e){qe.push(e)}const We=new Set;let Ye=0;function Ge(){if(0!==Ye)return;const e=Me;do{try{for(;Ye<Ie.length;){const e=Ie[Ye];Ye++,Ue(e),Qe(e.$$)}}catch(e){throw Ie.length=0,Ye=0,e}for(Ue(null),Ie.length=0,Ye=0;Ve.length;)Ve.pop()();for(let e=0;e<qe.length;e+=1){const t=qe[e];We.has(t)||(We.add(t),t())}qe.length=0}while(Ie.length);for(;Xe.length;)Xe.pop()();Ke=!1,We.clear(),Ue(e)}function Qe(e){if(null!==e.fragment){e.update(),$e(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Je)}}const Ze=new Set;function et(e,t){e.d(1),t.delete(e.key)}function tt(e,t,n,o,r,i,a,s,c,l,u,d){let f=e.length,p=i.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const g=[],b=new Map,y=new Map,w=[];for(h=p;h--;){const e=d(r,i,h),s=n(e);let c=a.get(s);c?o&&w.push((()=>c.p(e,t))):(c=l(s,e),c.c()),b.set(s,g[h]=c),s in m&&y.set(s,Math.abs(h-m[s]))}const v=new Set,j=new Set;function k(e){!function(e,t){e&&e.i&&(Ze.delete(e),e.i(t))}(e,1),e.m(s,u),a.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],o=t.key,r=n.key;t===n?(u=t.first,f--,p--):b.has(r)?!a.has(o)||v.has(o)?k(t):j.has(r)?f--:y.get(o)>y.get(r)?(j.add(o),k(t)):(v.add(r),f--):(c(n,a),f--)}for(;f--;){const t=e[f];b.has(t.key)||c(t,a)}for(;p;)k(g[p-1]);return $e(w),g}function nt(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];qe.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),qe=t}(n.after_update),$e(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ot(e,t){-1===e.$$.dirty[0]&&(Ie.push(e),Ke||(Ke=!0,He.then(Ge)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function rt(e,t,n,o,r,i,a,s=[-1]){const c=Me;Ue(e);const l=e.$$={fragment:null,ctx:[],props:i,update:ve,not_equal:r,bound:ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:ke(),dirty:s,skip_bound:!1,root:t.target||c.$$.root};a&&a(l.root);let u=!1;l.ctx=n?n(e,t.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return l.ctx&&r(l.ctx[t],l.ctx[t]=i)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](i),u&&ot(e,t)),n})):[],l.update(),u=!0,$e(l.before_update),l.fragment=!!o&&o(l.ctx),t.target&&(l.fragment&&l.fragment.c(),function(e,t,n,o){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),o||Je((()=>{const t=e.$$.on_mount.map(je).filter(_e);e.$$.on_destroy?e.$$.on_destroy.push(...t):$e(t),e.$$.on_mount=[]})),i.forEach(Je)}(e,t.target,void 0,void 0),Ge()),Ue(c)}class it{$destroy(){nt(this,1),this.$destroy=ve}$on(e,t){if(!_e(t))return ve;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const at=[[-1,"✨","custom"],[0,"😀","smileys-emotion"],[1,"👋","people-body"],[3,"🐱","animals-nature"],[4,"🍎","food-drink"],[5,"🏠️","travel-places"],[6,"⚽","activities"],[7,"📝","objects"],[8,"⛔️","symbols"],[9,"🏁","flags"]].map((([e,t,n])=>({id:e,emoji:t,name:n}))),st=at.slice(1),ct=at[0],lt="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function ut(e){return e.unicode.includes("‍")}const dt={"🫨":15,"🫠":14,"🥲":13.1,"🥻":12.1,"🥰":11,"🤩":5,"👱‍♀️":4,"🤣":3,"👁️‍🗨️":2,"😀":1,"😐️":.7,"😃":.6},ft=["😊","😒","♥️","👍️","😍","😂","😭","☺️","😔","😩","😏","💕","🙌","😘"],pt='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',ht=(e,t)=>e<t?-1:e>t?1:0,mt=(e,t)=>{const n=document.createElement("canvas");n.width=n.height=1;const o=n.getContext("2d");return o.textBaseline="top",o.font=`100px ${pt}`,o.fillStyle=t,o.scale(.01,.01),o.fillText(e,0,0),o.getImageData(0,0,1,1).data},gt=(e,t)=>{const n=[...e].join(",");return n===[...t].join(",")&&!n.startsWith("0,0,0,")};function bt(e){const t=mt(e,"#000"),n=mt(e,"#fff");return t&&n&&gt(t,n)}let yt;const wt=()=>(yt||(yt=new Promise((e=>lt((()=>e(function(){const e=Object.entries(dt);try{for(const[t,n]of e)if(bt(t))return n}catch(e){}return e[0][1]}())))))),yt),vt=new Map,jt="️",kt="\ud83c",$t="‍",_t=127995,Et=57339;function xt(e){e.preventDefault(),e.stopPropagation()}function St(e,t,n){return(t+=e?-1:1)<0?t=n.length-1:t>=n.length&&(t=0),t}function Ot(e,t){const n=new Set,o=[];for(const r of e){const e=t(r);n.has(e)||(n.add(e),o.push(r))}return o}const Ct=requestAnimationFrame;let Tt,zt="function"==typeof ResizeObserver;function At(e){{const t=document.createRange();return t.selectNode(e.firstChild),t.getBoundingClientRect().width}}const{Map:Lt}=Oe;function Pt(e,t,n){const o=e.slice();return o[66]=t[n],o[68]=n,o}function Dt(e,t,n){const o=e.slice();return o[69]=t[n],o[68]=n,o}function Bt(e,t,n){const o=e.slice();return o[66]=t[n],o[68]=n,o}function Rt(e,t,n){const o=e.slice();return o[72]=t[n],o}function Nt(e,t,n){const o=e.slice();return o[75]=t[n],o[68]=n,o}function Mt(e,t){let n,o,r,i,a,s,c,l=t[75]+"";return{key:e,first:null,c(){n=Ae("div"),o=Le(l),De(n,"id",r="skintone-"+t[68]),De(n,"class",i="emoji "+(t[68]===t[20]?"active":"")),De(n,"aria-selected",a=t[68]===t[20]),De(n,"role","option"),De(n,"title",s=t[0].skinTones[t[68]]),De(n,"aria-label",c=t[0].skinTones[t[68]]),this.first=n},m(e,t){Te(e,n,t),Ce(n,o)},p(e,u){t=e,512&u[0]&&l!==(l=t[75]+"")&&Be(o,l),512&u[0]&&r!==(r="skintone-"+t[68])&&De(n,"id",r),1049088&u[0]&&i!==(i="emoji "+(t[68]===t[20]?"active":""))&&De(n,"class",i),1049088&u[0]&&a!==(a=t[68]===t[20])&&De(n,"aria-selected",a),513&u[0]&&s!==(s=t[0].skinTones[t[68]])&&De(n,"title",s),513&u[0]&&c!==(c=t[0].skinTones[t[68]])&&De(n,"aria-label",c)},d(e){e&&ze(n)}}}function Ut(e,t){let n,o,r,i,a,s,c,l,u,d=t[72].emoji+"";function f(){return t[51](t[72])}return{key:e,first:null,c(){n=Ae("button"),o=Ae("div"),r=Le(d),De(o,"class","nav-emoji emoji"),De(n,"role","tab"),De(n,"class","nav-button"),De(n,"aria-controls",i="tab-"+t[72].id),De(n,"aria-label",a=t[0].categories[t[72].name]),De(n,"aria-selected",s=!t[4]&&t[13].id===t[72].id),De(n,"title",c=t[0].categories[t[72].name]),this.first=n},m(e,t){Te(e,n,t),Ce(n,o),Ce(o,r),l||(u=Pe(n,"click",f),l=!0)},p(e,o){t=e,4096&o[0]&&d!==(d=t[72].emoji+"")&&Be(r,d),4096&o[0]&&i!==(i="tab-"+t[72].id)&&De(n,"aria-controls",i),4097&o[0]&&a!==(a=t[0].categories[t[72].name])&&De(n,"aria-label",a),12304&o[0]&&s!==(s=!t[4]&&t[13].id===t[72].id)&&De(n,"aria-selected",s),4097&o[0]&&c!==(c=t[0].categories[t[72].name])&&De(n,"title",c)},d(e){e&&ze(n),l=!1,u()}}}function Ft(e){let t,n;return{c(){t=Ae("img"),De(t,"class","custom-emoji"),Se(t.src,n=e[66].url)||De(t,"src",n),De(t,"alt",""),De(t,"loading","lazy")},m(e,n){Te(e,t,n)},p(e,o){32768&o[0]&&!Se(t.src,n=e[66].url)&&De(t,"src",n)},d(e){e&&ze(t)}}}function It(e){let t,n=e[27](e[66],e[8])+"";return{c(){t=Le(n)},m(e,n){Te(e,t,n)},p(e,o){33024&o[0]&&n!==(n=e[27](e[66],e[8])+"")&&Be(t,n)},d(e){e&&ze(t)}}}function Vt(e,t){let n,o,r,i,a,s,c;function l(e,t){return e[66].unicode?It:Ft}let u=l(t),d=u(t);return{key:e,first:null,c(){n=Ae("button"),d.c(),De(n,"role",o=t[4]?"option":"menuitem"),De(n,"aria-selected",r=t[4]?t[68]==t[5]:""),De(n,"aria-label",i=t[28](t[66],t[8])),De(n,"title",a=t[29](t[66])),De(n,"class",s="emoji "+(t[4]&&t[68]===t[5]?"active":"")),De(n,"id",c="emo-"+t[66].id),this.first=n},m(e,t){Te(e,n,t),d.m(n,null)},p(e,f){u===(u=l(t=e))&&d?d.p(t,f):(d.d(1),d=u(t),d&&(d.c(),d.m(n,null))),16&f[0]&&o!==(o=t[4]?"option":"menuitem")&&De(n,"role",o),32816&f[0]&&r!==(r=t[4]?t[68]==t[5]:"")&&De(n,"aria-selected",r),33024&f[0]&&i!==(i=t[28](t[66],t[8]))&&De(n,"aria-label",i),32768&f[0]&&a!==(a=t[29](t[66]))&&De(n,"title",a),32816&f[0]&&s!==(s="emoji "+(t[4]&&t[68]===t[5]?"active":""))&&De(n,"class",s),32768&f[0]&&c!==(c="emo-"+t[66].id)&&De(n,"id",c)},d(e){e&&ze(n),d.d()}}}function qt(e,t){let n,o,r,i,a,s,c,l,u=(t[4]?t[0].searchResultsLabel:t[69].category?t[69].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"",d=[],f=new Lt,p=t[69].emojis;const h=e=>e[66].id;for(let e=0;e<p.length;e+=1){let n=Bt(t,p,e),o=h(n);f.set(o,d[e]=Vt(o,n))}return{key:e,first:null,c(){n=Ae("div"),o=Le(u),a=Ae("div");for(let e=0;e<d.length;e+=1)d[e].c();De(n,"id",r="menu-label-"+t[68]),De(n,"class",i="category "+(1===t[15].length&&""===t[15][0].category?"gone":"")),De(n,"aria-hidden","true"),De(a,"class","emoji-menu"),De(a,"role",s=t[4]?"listbox":"menu"),De(a,"aria-labelledby",c="menu-label-"+t[68]),De(a,"id",l=t[4]?"search-results":""),this.first=n},m(e,t){Te(e,n,t),Ce(n,o),Te(e,a,t);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(a,null)},p(e,m){t=e,40977&m[0]&&u!==(u=(t[4]?t[0].searchResultsLabel:t[69].category?t[69].category:t[15].length>1?t[0].categories.custom:t[0].categories[t[13].name])+"")&&Be(o,u),32768&m[0]&&r!==(r="menu-label-"+t[68])&&De(n,"id",r),32768&m[0]&&i!==(i="category "+(1===t[15].length&&""===t[15][0].category?"gone":""))&&De(n,"class",i),939557168&m[0]&&(p=t[69].emojis,d=tt(d,m,h,1,t,p,f,a,et,Vt,null,Bt)),16&m[0]&&s!==(s=t[4]?"listbox":"menu")&&De(a,"role",s),32768&m[0]&&c!==(c="menu-label-"+t[68])&&De(a,"aria-labelledby",c),16&m[0]&&l!==(l=t[4]?"search-results":"")&&De(a,"id",l)},d(e){e&&ze(n),e&&ze(a);for(let e=0;e<d.length;e+=1)d[e].d()}}}function Xt(e){let t,n;return{c(){t=Ae("img"),De(t,"class","custom-emoji"),Se(t.src,n=e[66].url)||De(t,"src",n),De(t,"alt",""),De(t,"loading","lazy")},m(e,n){Te(e,t,n)},p(e,o){1024&o[0]&&!Se(t.src,n=e[66].url)&&De(t,"src",n)},d(e){e&&ze(t)}}}function Ht(e){let t,n=e[27](e[66],e[8])+"";return{c(){t=Le(n)},m(e,n){Te(e,t,n)},p(e,o){1280&o[0]&&n!==(n=e[27](e[66],e[8])+"")&&Be(t,n)},d(e){e&&ze(t)}}}function Kt(e,t){let n,o,r,i;function a(e,t){return e[66].unicode?Ht:Xt}let s=a(t),c=s(t);return{key:e,first:null,c(){n=Ae("button"),c.c(),De(n,"role","menuitem"),De(n,"aria-label",o=t[28](t[66],t[8])),De(n,"title",r=t[29](t[66])),De(n,"class","emoji"),De(n,"id",i="fav-"+t[66].id),this.first=n},m(e,t){Te(e,n,t),c.m(n,null)},p(e,l){s===(s=a(t=e))&&c?c.p(t,l):(c.d(1),c=s(t),c&&(c.c(),c.m(n,null))),1280&l[0]&&o!==(o=t[28](t[66],t[8]))&&De(n,"aria-label",o),1024&l[0]&&r!==(r=t[29](t[66]))&&De(n,"title",r),1024&l[0]&&i!==(i="fav-"+t[66].id)&&De(n,"id",i)},d(e){e&&ze(n),c.d()}}}function Jt(e){let t,n,o,r,i,a,s,c,l,u,d,f,p,h,m,g,b,y,w,v,j,k,$,_,E,x,S,O,C,T,z,A,L,P,D,B,R,N,M,U,F,I,V,q,X=e[0].searchLabel+"",H=e[0].searchDescription+"",K=e[0].skinToneDescription+"",J=[],W=new Lt,Y=[],G=new Lt,Q=[],Z=new Lt,ee=[],te=new Lt,ne=e[9];const oe=e=>e[75];for(let t=0;t<ne.length;t+=1){let n=Nt(e,ne,t),o=oe(n);W.set(o,J[t]=Mt(o,n))}let re=e[12];const ie=e=>e[72].id;for(let t=0;t<re.length;t+=1){let n=Rt(e,re,t),o=ie(n);G.set(o,Y[t]=Ut(o,n))}let ae=e[15];const se=e=>e[69].category;for(let t=0;t<ae.length;t+=1){let n=Dt(e,ae,t),o=se(n);Z.set(o,Q[t]=qt(o,n))}let ce=e[10];const le=e=>e[66].id;for(let t=0;t<ce.length;t+=1){let n=Pt(e,ce,t),o=le(n);te.set(o,ee[t]=Kt(o,n))}return{c(){t=Ae("section"),n=Ae("div"),o=Ae("div"),r=Ae("div"),i=Ae("input"),l=Ae("label"),u=Le(X),d=Ae("span"),f=Le(H),p=Ae("div"),h=Ae("button"),m=Le(e[21]),y=Ae("span"),w=Le(K),v=Ae("div");for(let e=0;e<J.length;e+=1)J[e].c();E=Ae("div");for(let e=0;e<Y.length;e+=1)Y[e].c();S=Ae("div"),O=Ae("div"),C=Ae("div"),T=Le(e[18]),A=Ae("div"),L=Ae("div");for(let e=0;e<Q.length;e+=1)Q[e].c();N=Ae("div");for(let e=0;e<ee.length;e+=1)ee[e].c();F=Ae("button"),F.textContent="😀",De(n,"class","pad-top"),De(i,"id","search"),De(i,"class","search"),De(i,"type","search"),De(i,"role","combobox"),De(i,"enterkeyhint","search"),De(i,"placeholder",a=e[0].searchLabel),De(i,"autocapitalize","none"),De(i,"autocomplete","off"),De(i,"spellcheck","true"),De(i,"aria-expanded",s=!(!e[4]||!e[1].length)),De(i,"aria-controls","search-results"),De(i,"aria-describedby","search-description"),De(i,"aria-autocomplete","list"),De(i,"aria-activedescendant",c=e[26]?`emo-${e[26]}`:""),De(l,"class","sr-only"),De(l,"for","search"),De(d,"id","search-description"),De(d,"class","sr-only"),De(r,"class","search-wrapper"),De(h,"id","skintone-button"),De(h,"class",g="emoji "+(e[6]?"hide-focus":"")),De(h,"aria-label",e[23]),De(h,"title",e[23]),De(h,"aria-describedby","skintone-description"),De(h,"aria-haspopup","listbox"),De(h,"aria-expanded",e[6]),De(h,"aria-controls","skintone-list"),De(p,"class",b="skintone-button-wrapper "+(e[19]?"expanded":"")),De(y,"id","skintone-description"),De(y,"class","sr-only"),De(v,"id","skintone-list"),De(v,"class",j="skintone-list hide-focus "+(e[6]?"":"hidden no-animate")),Ne(v,"transform","translateY("+(e[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),De(v,"role","listbox"),De(v,"aria-label",k=e[0].skinTonesLabel),De(v,"aria-activedescendant",$="skintone-"+e[20]),De(v,"aria-hidden",_=!e[6]),De(v,"tabindex","-1"),De(o,"class","search-row"),De(E,"class","nav"),De(E,"role","tablist"),Ne(E,"grid-template-columns","repeat("+e[12].length+", 1fr)"),De(E,"aria-label",x=e[0].categoriesLabel),De(O,"class","indicator"),Ne(O,"transform","translateX("+(e[24]?-1:1)*e[11]*100+"%)"),De(S,"class","indicator-wrapper"),De(C,"class",z="message "+(e[18]?"":"gone")),De(C,"role","alert"),De(C,"aria-live","polite"),De(A,"class",P="tabpanel "+(!e[14]||e[18]?"gone":"")),De(A,"role",D=e[4]?"region":"tabpanel"),De(A,"aria-label",B=e[4]?e[0].searchResultsLabel:e[0].categories[e[13].name]),De(A,"id",R=e[4]?"":`tab-${e[13].id}`),De(A,"tabindex","0"),De(N,"class",M="favorites emoji-menu "+(e[18]?"gone":"")),De(N,"role","menu"),De(N,"aria-label",U=e[0].favoritesLabel),Ne(N,"padding-inline-end",e[25]+"px"),De(F,"aria-hidden","true"),De(F,"tabindex","-1"),De(F,"class","abs-pos hidden emoji"),De(t,"class","picker"),De(t,"aria-label",I=e[0].regionLabel),De(t,"style",e[22])},m(a,s){Te(a,t,s),Ce(t,n),Ce(t,o),Ce(o,r),Ce(r,i),Re(i,e[2]),Ce(r,l),Ce(l,u),Ce(r,d),Ce(d,f),Ce(o,p),Ce(p,h),Ce(h,m),Ce(o,y),Ce(y,w),Ce(o,v);for(let e=0;e<J.length;e+=1)J[e]&&J[e].m(v,null);e[50](v),Ce(t,E);for(let e=0;e<Y.length;e+=1)Y[e]&&Y[e].m(E,null);Ce(t,S),Ce(S,O),Ce(t,C),Ce(C,T),Ce(t,A),Ce(A,L);for(let e=0;e<Q.length;e+=1)Q[e]&&Q[e].m(L,null);e[52](A),Ce(t,N);for(let e=0;e<ee.length;e+=1)ee[e]&&ee[e].m(N,null);var c;Ce(t,F),e[53](F),e[54](t),V||(q=[Pe(i,"input",e[49]),Pe(i,"keydown",e[31]),Pe(h,"click",e[36]),Pe(v,"focusout",e[39]),Pe(v,"click",e[35]),Pe(v,"keydown",e[37]),Pe(v,"keyup",e[38]),Pe(E,"keydown",e[33]),(c=e[30].call(null,L),c&&_e(c.destroy)?c.destroy:ve),Pe(A,"click",e[34]),Pe(N,"click",e[34])],V=!0)},p(e,n){1&n[0]&&a!==(a=e[0].searchLabel)&&De(i,"placeholder",a),18&n[0]&&s!==(s=!(!e[4]||!e[1].length))&&De(i,"aria-expanded",s),67108864&n[0]&&c!==(c=e[26]?`emo-${e[26]}`:"")&&De(i,"aria-activedescendant",c),4&n[0]&&i.value!==e[2]&&Re(i,e[2]),1&n[0]&&X!==(X=e[0].searchLabel+"")&&Be(u,X),1&n[0]&&H!==(H=e[0].searchDescription+"")&&Be(f,H),2097152&n[0]&&Be(m,e[21]),64&n[0]&&g!==(g="emoji "+(e[6]?"hide-focus":""))&&De(h,"class",g),8388608&n[0]&&De(h,"aria-label",e[23]),8388608&n[0]&&De(h,"title",e[23]),64&n[0]&&De(h,"aria-expanded",e[6]),524288&n[0]&&b!==(b="skintone-button-wrapper "+(e[19]?"expanded":""))&&De(p,"class",b),1&n[0]&&K!==(K=e[0].skinToneDescription+"")&&Be(w,K),1049089&n[0]&&(ne=e[9],J=tt(J,n,oe,1,e,ne,W,v,et,Mt,null,Nt)),64&n[0]&&j!==(j="skintone-list hide-focus "+(e[6]?"":"hidden no-animate"))&&De(v,"class",j),64&n[0]&&Ne(v,"transform","translateY("+(e[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),1&n[0]&&k!==(k=e[0].skinTonesLabel)&&De(v,"aria-label",k),1048576&n[0]&&$!==($="skintone-"+e[20])&&De(v,"aria-activedescendant",$),64&n[0]&&_!==(_=!e[6])&&De(v,"aria-hidden",_),12305&n[0]|2&n[1]&&(re=e[12],Y=tt(Y,n,ie,1,e,re,G,E,et,Ut,null,Rt)),4096&n[0]&&Ne(E,"grid-template-columns","repeat("+e[12].length+", 1fr)"),1&n[0]&&x!==(x=e[0].categoriesLabel)&&De(E,"aria-label",x),16779264&n[0]&&Ne(O,"transform","translateX("+(e[24]?-1:1)*e[11]*100+"%)"),262144&n[0]&&Be(T,e[18]),262144&n[0]&&z!==(z="message "+(e[18]?"":"gone"))&&De(C,"class",z),939565361&n[0]&&(ae=e[15],Q=tt(Q,n,se,1,e,ae,Z,L,et,qt,null,Dt)),278528&n[0]&&P!==(P="tabpanel "+(!e[14]||e[18]?"gone":""))&&De(A,"class",P),16&n[0]&&D!==(D=e[4]?"region":"tabpanel")&&De(A,"role",D),8209&n[0]&&B!==(B=e[4]?e[0].searchResultsLabel:e[0].categories[e[13].name])&&De(A,"aria-label",B),8208&n[0]&&R!==(R=e[4]?"":`tab-${e[13].id}`)&&De(A,"id",R),939525376&n[0]&&(ce=e[10],ee=tt(ee,n,le,1,e,ce,te,N,et,Kt,null,Pt)),262144&n[0]&&M!==(M="favorites emoji-menu "+(e[18]?"gone":""))&&De(N,"class",M),1&n[0]&&U!==(U=e[0].favoritesLabel)&&De(N,"aria-label",U),33554432&n[0]&&Ne(N,"padding-inline-end",e[25]+"px"),1&n[0]&&I!==(I=e[0].regionLabel)&&De(t,"aria-label",I),4194304&n[0]&&De(t,"style",e[22])},i:ve,o:ve,d(n){n&&ze(t);for(let e=0;e<J.length;e+=1)J[e].d();e[50](null);for(let e=0;e<Y.length;e+=1)Y[e].d();for(let e=0;e<Q.length;e+=1)Q[e].d();e[52](null);for(let e=0;e<ee.length;e+=1)ee[e].d();e[53](null),e[54](null),V=!1,$e(q)}}}function Wt(e,t,n){let o,r,i,a,s,c,l,u,d,f,{skinToneEmoji:p}=t,{i18n:h}=t,{database:m}=t,{customEmoji:g}=t,{customCategorySorting:b}=t,{emojiVersion:y}=t,w=[],v=[],j="",k="",$=!1,_=-1,E=!1,x=!1,S=0,O=0,C="",T=[],z=[],A=8,L=!1,P=0,D=0,B=st,R=!1;const N=[],M=e=>{o.getRootNode().getElementById(e).focus()},U=(e,t)=>{o.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))},F=(e,t)=>t&&e.skins&&e.skins[t]||e.unicode;function I(e){const t=o.getRootNode();!function(e,t,n){for(const o of e){const e=At(n(o));void 0===Tt&&(Tt=At(t));const r=e/1.8<Tt;vt.set(o.unicode,r)}}(e,r,(e=>t.getElementById(`emo-${e.id}`))),n(1,w)}function V(e){return!e.unicode||!ut(e)||vt.get(e.unicode)}async function q(e){const t=y||await wt();return e.filter((({version:e})=>!e||e<=t))}async function X(e){return function(e,t){const n=e=>{const n={};for(const o of e)"number"==typeof o.tone&&o.version<=t&&(n[o.tone]=o.unicode);return n};return e.map((({unicode:e,skins:t,shortcodes:o,url:r,name:i,category:a,annotation:s})=>({unicode:e,name:i,shortcodes:o,url:r,category:a,annotation:s,id:e||i,skins:t&&n(t)})))}(e,y||await wt())}function H(e){n(2,j=""),n(46,k=""),n(5,_=-1),n(11,D=B.findIndex((t=>t.id===e.id)))}async function K(e){const t=await m.getEmojiByUnicodeOrName(e),n=[...w,...z].find((t=>t.id===e)),o=n.unicode&&F(n,S);await m.incrementFavoriteEmojiCount(e),U("emoji-click",{emoji:t,skinTone:S,...o&&{unicode:o},...n.name&&{name:n.name}})}function J(e){n(8,S=e),n(6,E=!1),M("skintone-button"),U("skin-tone-change",{skinTone:e}),m.setPreferredSkinTone(e)}Fe((()=>{y||wt().then((e=>{e||n(18,a=h.emojiUnsupportedMessage)}))}));return e.$$set=e=>{"skinToneEmoji"in e&&n(41,p=e.skinToneEmoji),"i18n"in e&&n(0,h=e.i18n),"database"in e&&n(40,m=e.database),"customEmoji"in e&&n(42,g=e.customEmoji),"customCategorySorting"in e&&n(43,b=e.customCategorySorting),"emojiVersion"in e&&n(44,y=e.emojiVersion)},e.$$.update=()=>{if(2560&e.$$.dirty[1]&&g&&m&&n(40,m.customEmoji=g,m),1&e.$$.dirty[0]|512&e.$$.dirty[1]){async function t(){let e=!1;const t=setTimeout((()=>{e=!0,n(18,a=h.loadingMessage)}),1e3);try{await m.ready(),n(14,R=!0)}catch(e){console.error(e),n(18,a=h.networkErrorMessage)}finally{clearTimeout(t),e&&(e=!1,n(18,a=""))}}m&&t()}if(6144&e.$$.dirty[0]|2048&e.$$.dirty[1]&&(g&&g.length?n(12,B=[ct,...st]):B!==st&&(D&&n(11,D--,D),n(12,B=st))),4&e.$$.dirty[0]&&lt((()=>{n(46,k=(j||"").trim()),n(5,_=-1)})),6144&e.$$.dirty[0]&&n(13,d=B[D]),24576&e.$$.dirty[0]|32768&e.$$.dirty[1]){async function o(){if(R){if(k.length>=2){const e=k,t=await async function(e){return X(await q(await m.getEmojiBySearchQuery(e)))}(e);e===k&&(n(1,w=t),n(4,$=!0))}else if(d){const e=d.id,t=await async function(e){const t=-1===e?g:await m.getEmojiByGroup(e);return X(await q(t))}(e);e===d.id&&(n(1,w=t),n(4,$=!1))}}else n(1,w=[]),n(4,$=!1)}o()}if(4112&e.$$.dirty[0]&&n(22,l=`\n  --num-groups: ${B.length}; \n  --indicator-opacity: ${$?0:1}; \n  --num-skintones: 6;`),16384&e.$$.dirty[0]|512&e.$$.dirty[1]){async function r(){R&&n(8,S=await m.getPreferredSkinTone())}r()}if(1024&e.$$.dirty[1]&&n(9,T=Array(6).fill().map(((e,t)=>function(e,t){if(0===t)return e;const n=e.indexOf($t);return-1!==n?e.substring(0,n)+String.fromCodePoint(_t+t-1)+e.substring(n):(e.endsWith(jt)&&(e=e.substring(0,e.length-1)),e+kt+String.fromCodePoint(Et+t-1))}(p,t)))),768&e.$$.dirty[0]&&n(21,c=T[S]),257&e.$$.dirty[0]&&n(23,C=h.skinToneLabel.replace("{skinTone}",h.skinTones[S])),16384&e.$$.dirty[0]|512&e.$$.dirty[1]){async function O(){n(47,u=(await Promise.all(ft.map((e=>m.getEmojiByUnicodeOrName(e))))).filter(Boolean))}R&&O()}if(16384&e.$$.dirty[0]|197120&e.$$.dirty[1]){async function L(){const e=await m.getTopFavoriteEmoji(A),t=await X(Ot([...e,...u],(e=>e.unicode||e.name)).slice(0,A));n(10,z=t)}R&&u&&L()}if(10&e.$$.dirty[0]|8192&e.$$.dirty[1]){const P=w.filter((e=>e.unicode)).filter((e=>ut(e)&&!vt.has(e.unicode)));!y&&P.length?Ct((()=>I(P))):(n(1,w=y?w:w.filter(V)),Ct((()=>{var e;(e=i)&&(e.scrollTop=0)})))}if(e.$$.dirty[0],e.$$.dirty[1],18&e.$$.dirty[0]|4096&e.$$.dirty[1]){function N(){if($)return[{category:"",emojis:w}];const e=new Map;for(const t of w){const n=t.category||"";let o=e.get(n);o||(o=[],e.set(n,o)),o.push(t)}return[...e.entries()].map((([e,t])=>({category:e,emojis:t}))).sort(((e,t)=>b(e.category,t.category)))}n(15,v=N())}34&e.$$.dirty[0]&&n(26,f=-1!==_&&w[_].id),192&e.$$.dirty[0]&&(E?s.addEventListener("transitionend",(()=>{n(19,x=!0)}),{once:!0}):n(19,x=!1))},[h,w,j,i,$,_,E,s,S,T,z,D,B,d,R,v,o,r,a,x,O,c,l,C,L,P,f,F,(e,t)=>{return(n=[e.name||F(e,t),e.annotation,...e.shortcodes||N].filter(Boolean),Ot(n,(e=>e))).join(", ");var n},e=>e.annotation||(e.shortcodes||N).join(", "),function(e){return function(e,t){let n;return zt?(n=new ResizeObserver((e=>t(e[0].contentRect.width))),n.observe(e)):Ct((()=>t(e.getBoundingClientRect().width))),{destroy(){n&&n.disconnect()}}}(e,(t=>{{const r=getComputedStyle(o),i=parseInt(r.getPropertyValue("--num-columns"),10),a="rtl"===r.getPropertyValue("direction"),s=e.parentElement.getBoundingClientRect().width-t;n(48,A=i),n(25,P=s),n(24,L=a)}}))},function(e){if(!$||!w.length)return;const t=t=>{xt(e),n(5,_=St(t,_,w))};switch(e.key){case"ArrowDown":return t(!1);case"ArrowUp":return t(!0);case"Enter":if(-1!==_)return xt(e),K(w[_].id);w.length&&n(5,_=0)}},H,function(e){const{target:t,key:n}=e,o=t=>{t&&(xt(e),t.focus())};switch(n){case"ArrowLeft":return o(t.previousSibling);case"ArrowRight":return o(t.nextSibling);case"Home":return o(t.parentElement.firstChild);case"End":return o(t.parentElement.lastChild)}},async function(e){const{target:t}=e;if(!t.classList.contains("emoji"))return;xt(e),K(t.id.substring(4))},function(e){const{target:{id:t}}=e,n=t&&t.match(/^skintone-(\d)/);if(!n)return;xt(e),J(parseInt(n[1],10))},function(e){n(6,E=!E),n(20,O=S),E&&(xt(e),Ct((()=>M("skintone-list"))))},function(e){if(!E)return;const t=async t=>{xt(e),n(20,O=t)};switch(e.key){case"ArrowUp":return t(St(!0,O,T));case"ArrowDown":return t(St(!1,O,T));case"Home":return t(0);case"End":return t(T.length-1);case"Enter":return xt(e),J(O);case"Escape":return xt(e),n(6,E=!1),M("skintone-button")}},function(e){if(E)return" "===e.key?(xt(e),J(O)):void 0},async function(e){const{relatedTarget:t}=e;t&&"skintone-list"===t.id||n(6,E=!1)},m,p,g,b,y,!0,k,u,A,function(){j=this.value,n(2,j)},function(e){Ve[e?"unshift":"push"]((()=>{s=e,n(7,s)}))},e=>H(e),function(e){Ve[e?"unshift":"push"]((()=>{i=e,n(3,i)}))},function(e){Ve[e?"unshift":"push"]((()=>{r=e,n(17,r)}))},function(e){Ve[e?"unshift":"push"]((()=>{o=e,n(16,o)}))}]}class Yt extends it{constructor(e){super(),rt(this,e,Wt,Jt,Ee,{skinToneEmoji:41,i18n:0,database:40,customEmoji:42,customCategorySorting:43,emojiVersion:44},null,[-1,-1,-1])}}var Gt={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading…",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const Qt=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],Zt=`:host{--emoji-font-family:${pt}}`;class en extends HTMLElement{constructor(e){super(),this.attachShadow({mode:"open"});const t=document.createElement("style");t.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}"+Zt,this.shadowRoot.appendChild(t),this._ctx={locale:"en",dataSource:"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",skinToneEmoji:"🖐️",customCategorySorting:ht,customEmoji:null,i18n:Gt,emojiVersion:null,...e};for(const e of Qt)"database"!==e&&Object.prototype.hasOwnProperty.call(this,e)&&(this._ctx[e]=this[e],delete this[e]);this._dbFlush()}connectedCallback(){this._cmp||(this._cmp=new Yt({target:this.shadowRoot,props:this._ctx}))}disconnectedCallback(){Promise.resolve().then((()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;const{database:e}=this._ctx;e.close().catch((e=>console.error(e)))}}))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(e,t,n){this._set(e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase())),"emoji-version"===e?parseFloat(n):n)}_set(e,t){this._ctx[e]=t,this._cmp&&this._cmp.$set({[e]:t}),["locale","dataSource"].includes(e)&&this._dbFlush()}_dbCreate(){const{locale:e,dataSource:t,database:n}=this._ctx;n&&n.locale===e&&n.dataSource===t||this._set("database",new we({locale:e,dataSource:t}))}_dbFlush(){Promise.resolve().then((()=>this._dbCreate()))}}const tn={};for(const e of Qt)tn[e]={get(){return"database"===e&&this._dbCreate(),this._ctx[e]},set(t){if("database"===e)throw new Error("database is read-only");this._set(e,t)}};function nn(e){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(e)}function on(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(r=o.key,i=void 0,i=function(e,t){if("object"!==nn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==nn(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===nn(i)?i:String(i)),o)}var r,i}function rn(e,t){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rn(e,t)}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=sn(e);if(t){var r=sn(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function sn(e){return sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sn(e)}Object.defineProperties(en.prototype,tn),customElements.get("emoji-picker")||customElements.define("emoji-picker",en);var cn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rn(e,t)}(i,e);var t,n,o,r=an(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"connect",value:function(){var e=this.element.querySelector("emoji-picker"),t=e.shadowRoot;e.addEventListener("focusout",(function(e){return e.stopPropagation()})),this.element.addEventListener("open",(function(){var e;null===(e=t.querySelector("input"))||void 0===e||e.focus()}))}}])&&on(t.prototype,n),o&&on(t,o),Object.defineProperty(t,"prototype",{writable:!1}),i}(w);window.Stimulus.register("emoji-picker",cn)})();